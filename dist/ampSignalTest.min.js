(()=>{var d="https://beta.a.zzazz.com/event";function y(){return{width:window.innerWidth||document.documentElement.clientWidth||0,height:window.innerHeight||document.documentElement.clientHeight||0}}async function g({url:e}){let t=y(),n=localStorage.getItem("user_id")||"",i={url:e,device:t,type:"pageview"};try{let r=await(await fetch(d,{method:"POST",headers:{"Content-Type":"application/json",...n&&{"user-id":n}},body:JSON.stringify(i)})).json();localStorage.setItem("user_id",r.user_id),localStorage.setItem("event_id",r.event_id)}catch(o){console.error("Pageview error:",o)}}async function h(){let e=localStorage.getItem("user_id")||"TEST_ID",t=localStorage.getItem("event_id")||"TEST_ID";if(!t||!e)return;let n={type:"poll",id:t};try{await fetch(d,{method:"POST",headers:{"Content-Type":"application/json","user-id":e},body:JSON.stringify(n)})}catch(i){console.error("Poll error:",i)}}async function m({price:e,currency:t}){let n=localStorage.getItem("user_id")||"TEST_ID",o={type:"price",id:localStorage.getItem("event_id")||"TEST_ID",price:e,currency:t};try{await fetch(d,{method:"POST",headers:{"Content-Type":"application/json","user-id":n},body:JSON.stringify(o)})}catch(r){console.error("Price event error:",r)}}var a=null,p=!1,u=!1,f=()=>{let e=document.getElementById("zzazz-signal-div"),t=e.getAttribute("data-url"),n=document.getElementById("zzazz-price"),i=document.getElementById("zzazz-trend-up"),o=document.getElementById("zzazz-trend-down"),r=JSON.stringify({urls:[t],currency:"inr"});fetch("https://v.zzazz.com/v2/price",{method:"POST",headers:{"Content-Type":"application/json"},body:r}).then(c=>c.json()).then(c=>{let s=c[t];if(!s||s.price===void 0)return;let l=s.price.toFixed(2);u||(e.classList.remove("hidden"),u=!0),p||(m({price:s.price,currency:"inr"}),p=!0),n.firstChild.textContent=l+" ",a!==null&&(l>a?(i.style.display="flex",o.style.display="none"):l<a&&(o.style.display="flex",i.style.display="none")),a=l}).catch(c=>console.error("Price fetch error:",c))};setInterval(f,3e3);g({url:window.location.origin||document.location.origin||""});setInterval(h,5e3);})();
